(this.webpackJsonpmark_ii=this.webpackJsonpmark_ii||[]).push([[0],{142:function(e,t,n){e.exports={container:"Question_container__1gP25",ques:"Question_ques__1diKT"}},143:function(e,t,n){e.exports={login:"AddEvent_login__2TrxK",form:"AddEvent_form__28EI8",submit:"AddEvent_submit__19A21"}},144:function(e,t,n){e.exports={login:"Auth_login__10g92",form:"Auth_form__1pIfH",submit:"Auth_submit__4JGI4"}},152:function(e,t,n){},155:function(e,t,n){e.exports={container:"Options_container__5jxCM",check:"Options_check__3G7YW"}},178:function(e,t,n){e.exports={row:"Events_row__vWc42"}},197:function(e,t,n){},229:function(e,t){},230:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},310:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(38),i=n.n(r),o=(n(196),n(197),n(29)),c=n(31),l=n(9),u=n(10),d=n(12),h=n(13),j=n(37),p=n(77),b=n.n(p),v=n(5),m=n.n(v),O=n(6),f=n(4),g=function(e){var t=e.hoursMinSecs,n=t.days,a=void 0===n?0:n,r=t.hours,i=void 0===r?0:r,o=t.minutes,c=void 0===o?0:o,l=t.seconds,u=void 0===l?0:l,d=s.a.useState([a,i,c,u]),h=Object(O.a)(d,2),j=Object(O.a)(h[0],4),p=j[0],b=j[1],v=j[2],m=j[3],g=h[1];return s.a.useEffect((function(){var e=setInterval((function(){p<=0&&b<=0&&v<=0&&m<=0?console.log(""):g(0===b&&0===v&&0===m?[p-1,23,59,59]:0===v&&0===m?[p,b-1,59,59]:0===m?[p,b,v-1,59]:[p,b,v,m-1])}),1e3);return function(){return clearInterval(e)}})),p<=0&&b<=0&&v<=0&&m<=0?Object(f.jsx)("p",{children:"Live"}):Object(f.jsx)("div",{children:Object(f.jsxs)("p",{children:["Live In ","".concat(p.toString().padStart(2,"0"),":").concat(b.toString().padStart(2,"0"),":").concat(v.toString().padStart(2,"0"),":").concat(m.toString().padStart(2,"0"))]})})};var x=function(e){var t=e.event._id,n=e.timeToLive;return Object(f.jsx)("div",{className:"col "+m()(b.a.container,b.a.event),children:Object(f.jsxs)("div",{className:b.a.card,children:[Object(f.jsx)("h2",{children:e.event.name}),Object(f.jsx)(g,{hoursMinSecs:n}),Object(f.jsx)(o.b,{to:e.isAuthenticated?"/event/"+t:"/authentication",children:Object(f.jsx)("div",{className:m()(b.a.right),children:Object(f.jsx)("i",{className:"fa fa-arrow-right"})})}),Object(f.jsx)("div",{className:b.a.pic}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{}),Object(f.jsx)("li",{})]}),Object(f.jsxs)("div",{className:b.a.social,children:[Object(f.jsx)("i",{className:"fa fa-facebook-f"}),Object(f.jsx)("i",{className:"fa fa-twitter"}),Object(f.jsx)("i",{className:"fa fa-instagram"}),Object(f.jsx)("i",{className:"fa fa-github"})]}),Object(f.jsx)(o.b,{to:e.isAuthenticated?"/event/"+t:"/authentication",children:Object(f.jsx)("button",{})})]})})},A=n(178),S=n.n(A),y=n(26),k=n.n(y),C=n(93),N=n.n(C);var I=function(e){return Object(f.jsxs)("div",{className:N.a.container,children:[Object(f.jsxs)("div",{className:N.a.body,children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{}),Object(f.jsx)("span",{}),Object(f.jsx)("span",{}),Object(f.jsx)("span",{})]}),Object(f.jsxs)("div",{className:N.a.base,children:[Object(f.jsx)("span",{}),Object(f.jsx)("div",{className:N.a.face})]})]}),Object(f.jsxs)("div",{className:N.a.longfazers,children:[Object(f.jsx)("span",{}),Object(f.jsx)("span",{}),Object(f.jsx)("span",{}),Object(f.jsx)("span",{})]}),Object(f.jsx)("h1",{children:"Loading"})]})},E=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={events:[],loading:!0},e.timeToLive=function(e){var t=new Date,n=Date.parse(e)-t.getTime();return{days:Math.floor(n/864e5),hours:Math.floor(n/36e5%24),minutes:Math.floor(n/6e4%60),seconds:Math.floor(n/1e3%60)}},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;k.a.get("/eventService/getEvents",{headers:{Authorization:"Bearer ".concat(this.props.token)}}).then((function(t){var n=t.data.data;e.setState({events:n,loading:!1})}))}},{key:"render",value:function(){var e,t=this;return e=this.state.events.map((function(e){return Object(f.jsx)(x,{timeToLive:t.timeToLive(e.endTime),isAuthenticated:t.props.isAuthenticated,event:e},e._id)})),Object(f.jsx)("div",{className:"row justify-content-start "+S.a.row,style:{marginTop:"2%",marginLeft:"5%"},children:this.state.loading?Object(f.jsx)(I,{}):e})}}]),n}(a.Component),w=Object(c.b)((function(e){return{token:e.auth.token,isAuthenticated:null!==e.auth.token}}))(E),_=n(35),R=n(24),L=n.n(R),z=n(65),T=n.n(z),B=n(49),D={algowls:n.p+"static/media/algowls.741b22f3.png",webgators:n.p+"static/media/webgators.5727da51.png",battleofbytes:n.p+"static/media/battleofbytes.a642bb2e.jpg",bumblejumble:n.p+"static/media/bumblejumble.8a917265.png",codebenders:n.p+"static/media/codebenders.01c860d3.png",techwars:n.p+"static/media/techwars.3c11ed1f.png",tvfandom:n.p+"static/media/tvfandom.e016fa9d.png",socialhunt:n.p+"static/media/socialhunt.a54d7561.png",bamboozled:n.p+"static/media/bamboozled.5a2ded40.png"},H=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={event:null,eventName:null,isEventDeleted:!1,loading:!0,isLive:!1,hasRegistered:!1,hasSubmitted:!1,hasStarted:!1,hasEnded:!1},e.userId=JSON.parse(localStorage.getItem("userId"))._id,e.timeToLive=function(t){var n=new Date,a=Date.parse(t)-n.getTime(),s=Math.floor(a/864e5),r=Math.floor(a/36e5%24),i=Math.floor(a/6e4%60),o=Math.floor(a/1e3%60),c={days:s,hours:r,minutes:i,seconds:o};return s<=0&&r<=0&&i<=0&&o<=0&&(e.state.isLive||e.setState({isLive:!0})),c},e.addStartTime=Object(_.a)(L.a.mark((function t(){var n,a,s,r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Date,a=n.getTime(),s={eventCode:e.state.event.eventCode,userId:e.userId,startTime:a},t.next=5,k.a.post("/quizService/addStartTime/",s,{headers:{Authorization:"Bearer ".concat(e.props.token)}});case 5:if("bamboozled"!==e.state.event.eventCode){t.next=12;break}return r={user:JSON.parse(localStorage.getItem("userId"))},t.next=9,k.a.post("/bamboozled/addBamboozledUser",r,{headers:{Authorization:"Bearer ".concat(e.props.token)}});case 9:e.props.history.push("/bamboozled"),t.next=13;break;case 12:e.props.history.push("/eventExam/".concat(e.state.event._id));case 13:case"end":return t.stop()}}),t)}))),e.getEndTime=function(){var t=Object(_.a)(L.a.mark((function t(n,a){var s,r,i;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get("/quizService/getEndTime/".concat(n,"/").concat(a),{headers:{Authorization:"Bearer ".concat(e.props.token)}});case 2:s=t.sent,(r=s.data).data.length&&(e.setState({hasStarted:!0}),i=r.data[0].endTime,Date.now()>i&&e.setState({hasEnded:!0}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.onPreRegisterHandler=function(){var t={headers:{Authorization:"Bearer ".concat(e.props.token)}},n={requestDetails:{eventCode:e.state.event.eventCode,user:JSON.parse(localStorage.getItem("userId"))}};k.a.post("/quizService/addRequests",n,t).then((function(e){console.log(e)})),e.props.history.push("/events")},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t={};k.a.get("/eventService/getEvent/"+this.props.match.params.id,{headers:{Authorization:"Bearer ".concat(this.props.token)}}).then((function(n){t=n.data.data,e.getEndTime(e.userId,t.eventCode),e.setState({event:t}),k.a.get("/quizService/getRequests",{headers:{Authorization:"Bearer ".concat(e.props.token)}}).then((function(t){t.data.data.map((function(t){var n=JSON.stringify(t.user),a=localStorage.getItem("userId");t.eventCode===e.state.event.eventCode&&n===a&&e.setState({hasRegistered:!0})}))})),k.a.get("/quizService/getResponses",{headers:{Authorization:"Bearer ".concat(e.props.token)}}).then((function(t){t.data.data.map((function(t){var n=JSON.stringify(t.user),a=localStorage.getItem("userId");t.eventCode===e.state.event.eventCode&&n===a&&e.setState({hasSubmitted:!0})})),e.setState({loading:!1})}))}))}},{key:"deleteEventHandler",value:function(e){var t=this;k.a.delete("/eventService/deleteEvent/"+this.state.event._id,{headers:{Authorization:"Bearer ".concat(this.props.token)}}).then((function(e){t.setState({isEventDeleted:!t.state.isEventDeleted})}))}},{key:"render",value:function(){var e=this,t=Object(f.jsx)("div",{}),n=JSON.parse(localStorage.getItem("userId")).privileges;if(this.state.event){var a=this.state.event.name.split(" ");t=Object(f.jsxs)("div",{className:T.a.fond,children:[Object(f.jsx)("span",{className:T.a.s1,children:a[0]}),Object(f.jsx)("span",{className:T.a.s2,children:a[1]?a[1]:""})]})}return this.state.loading?Object(f.jsx)(I,{}):Object(f.jsxs)("div",{className:T.a.EventDetails,children:[this.state.isEventDeleted?Object(f.jsx)(j.a,{to:"/events"}):null,t,Object(f.jsxs)("div",{className:T.a.card,children:[Object(f.jsx)("div",{className:T.a.thumbnail,children:Object(f.jsx)("img",{alt:"eventImage",className:T.a.left,src:D[this.state.event.eventCode.toLowerCase()]})}),Object(f.jsxs)("div",{className:T.a.right,children:[Object(f.jsx)("h1",{children:this.state.event.name}),Object(f.jsx)("div",{className:T.a.seperator}),Object(f.jsx)("p",{children:this.state.event.description})]}),Object(f.jsxs)("div",{style:{position:"absolute",bottom:"3%",right:"3%"},children:["admin~"===n&&Object(f.jsx)(B.a,{onClick:function(){return e.deleteEventHandler(e.props)},danger:!0,children:"Delete"}),this.state.isLive&&this.state.hasSubmitted&&Object(f.jsx)("p",{className:"btn btn-info",children:"We Have Recieved Your Submission"}),this.state.isLive&&!this.state.hasStarted&&!this.state.hasSubmitted&&Object(f.jsx)(B.a,{onClick:function(){e.addStartTime()},primary:!0,children:"Start Event"}),this.state.isLive&&this.state.hasStarted&&!this.state.hasEnded&&!this.state.hasSubmitted&&Object(f.jsx)(f.Fragment,{children:"bamboozled"===this.state.event.eventCode?Object(f.jsx)(o.b,{to:this.state.event&&"/bamboozled/",children:Object(f.jsx)(B.a,{primary:!0,children:"Continue event"})}):Object(f.jsx)(o.b,{to:this.state.event?"/eventExam/"+this.state.event._id:"",children:Object(f.jsx)(B.a,{primary:!0,children:"Continue event"})})}),!this.state.isLive&&this.state.hasRegistered&&Object(f.jsx)(B.a,{color:"lime",children:" Already Registered"}),!this.state.isLive&&!this.state.hasRegistered&&Object(f.jsx)(B.a,{onClick:this.onPreRegisterHandler,primary:!0,children:"Pre-Register"}),this.state.isLive&&this.state.hasStarted&&this.state.hasEnded&&!this.state.hasSubmitted&&Object(f.jsx)(B.a,{primary:!0,children:"No Responses, Event Has Ended"})]}),Object(f.jsx)("div",{style:{position:"absolute",bottom:"3%",left:"3%"},children:Object(f.jsx)(g,{hoursMinSecs:this.timeToLive(this.state.event.endTime)})})]})]})}}]),n}(a.Component),q=Object(c.b)((function(e){return{token:e.auth.token}}))(H),U=n(142),Q=n.n(U),P=n(155),V=n.n(P),M=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{className:V.a.container,children:Object(f.jsxs)("li",{children:[Object(f.jsx)("input",{value:this.props.option.key,checked:this.props.checked,onClick:this.props.onValueChange.bind(this,this.props.checked),type:"radio",id:this.props.option.key,name:this.props.details.qid}),Object(f.jsx)("div",{className:V.a.check}),Object(f.jsx)("label",{for:this.props.option.key,children:this.props.option.text})]})})}}]),n}(a.Component),F=M,J=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={forceReRender:!0},e.forceReRender=function(){e.setState((function(e){return{forceReRender:!e.forceReRender}}))},e.onValueChange=function(t,n){t?e.props.onOptionUpdate(null):e.props.onOptionUpdate(n.target.value),e.forceReRender()},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("userResponses"))[this.props.event].responses[this.props.details.qid-1].userAns,n=this.props.details.options.map((function(n,a){var s=n.key===t;return Object(f.jsx)(F,{option:n,event:e.props.event,details:e.props.details,onValueChange:e.onValueChange,checked:s})}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:Q.a.container,children:[Object(f.jsx)("div",{className:Q.a.ques,children:this.props.details.text}),Object(f.jsx)("div",{style:{position:"absolute",top:"1%",right:"4%",color:"white",fontSize:"18px"},children:this.props.details.qid}),this.props.details.code&&Object(f.jsx)("pre",{children:Object(f.jsx)("div",{className:Q.a.ques,children:this.props.details.code})}),Object(f.jsx)("ul",{style:{padding:"0",marginTop:"3%"},children:n}),Object(f.jsx)("button",{onClick:function(){return e.props.nextPrevHandler("prev")},className:"btn btn-success",style:{position:"absolute",bottom:"3%",left:"3%"},children:"Previous"}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:function(){return e.props.nextPrevHandler("next")},className:"btn btn-success",style:{position:"absolute",bottom:"3%",right:"3%"},children:"Next"})})]}),Object(f.jsx)("div",{style:{width:"80%",height:"auto",textAlign:"center",padding:"1%"},children:this.props.details.image&&Object(f.jsx)("img",{alt:"",style:{maxWidth:"100%",maxHeight:"100%"},src:this.props.details.image})})]})}}]),n}(a.Component),W=J,X=n(79),K=n.n(X),Z=n(46),Y=n.n(Z),G=n(179),$=n(185),ee=n(315),te=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).userId=JSON.parse(localStorage.getItem("userId"))._id,a.getEndTime=function(){var e=Object(_.a)(L.a.mark((function e(t,n){var s,r,i,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/quizService/getEndTime/".concat(t,"/").concat(n),{headers:{Authorization:"Bearer ".concat(a.props.token)}});case 2:if(r=e.sent,i=r.data,o=null===i||void 0===i||null===(s=i.data[0])||void 0===s?void 0:s.endTime,!i.data.length){e.next=8;break}return a.setState({endTime:o}),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.onOptionUpdate=function(e){console.log(e);var t=JSON.parse(localStorage.getItem("userResponses")),n=t[a.state.event.eventCode],s=n.responses[n.currentQuestion-1];s.userAns=e,n.responses[n.currentQuestion-1]=s,t[a.state.event.eventCode]=n,localStorage.setItem("userResponses",JSON.stringify(t))},a.onQuestionChange=function(e){var t=JSON.parse(localStorage.getItem("userResponses")),n=t[a.state.event.eventCode],s=Object(f.jsx)(W,{nextPrevHandler:a.onClickNextAndPrevHandler,details:e,event:a.state.event.eventCode,onOptionUpdate:a.onOptionUpdate});n.currentQuestion=e.qid,t[a.state.event.eventCode]=n,localStorage.setItem("userResponses",JSON.stringify(t)),a.setState({question:s,currentQuestion:e.qid})},a.onClickNextAndPrevHandler=function(e){var t=a.state.currentQuestion;"prev"==e?1!==a.state.currentQuestion&&(t=a.state.currentQuestion-1):"next"==e&&a.state.currentQuestion!==a.state.event.questions.length&&(t=a.state.currentQuestion+1);var n=a.state.event.questions.filter((function(e){return e.qid===t}));a.onQuestionChange(n[0])},a.onFinalSubmitHandler=Object(_.a)(L.a.mark((function e(){var t,n,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer ".concat(a.props.token)}},n=a.state.event.eventCode,s={responseDetails:{eventCode:n,user:JSON.parse(localStorage.getItem("userId")),response:JSON.parse(localStorage.getItem("userResponses"))[n].responses}},e.next=5,k.a.post("/quizService/addResponse",s,t).then((function(e){Y()(".myModal").css("display","block"),$.b.success("Responses submitted successfully"),a.props.history.push("/events")}));case 5:case"end":return e.stop()}}),e)}))),a.closeModal=function(){Y()(".myModal").css("display","none")},a.state={event:null,eventName:null,isEventDeleted:!1,question:null,currentQuestion:null,optionSelected:null,loading:!0,endTime:"",visible:!1},a}return Object(u.a)(n,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"componentDidMount",value:function(){var e=this;k.a.get("/eventService/getEvent/"+this.props.match.params.id,{headers:{Authorization:"Bearer ".concat(this.props.token)}}).then((function(t){var n=t.data.data;e.getEndTime(e.userId,n.eventCode).then((function(t){Date.now()>t?console.log("time over"):e.timer=setTimeout((function(){e.onFinalSubmitHandler()}),t-Date.now())}));var a=JSON.parse(localStorage.getItem("userResponses"));a=a[n.eventCode];var s=n.questions.filter((function(e){return e.qid===a.currentQuestion}))[0],r=a.responses[a.currentQuestion-1],i=Object(f.jsx)(W,{nextPrevHandler:e.onClickNextAndPrevHandler,details:s,event:n.eventCode,onOptionUpdate:e.onOptionUpdate,res:r.userAns});e.setState({event:n,currentQuestion:a.currentQuestion,question:i,loading:!1})}))}},{key:"render",value:function(){var e=this,t=null;return this.state.event&&(t=this.state.event.questions.map((function(t,n){return Object(f.jsx)("div",{onClick:function(){return e.onQuestionChange(t)},className:K.a.questionBox,children:n+1},n)}))),this.state.loading?Object(f.jsx)(I,{}):Object(f.jsxs)(f.Fragment,{children:[this.state.event?Object(f.jsxs)("div",{className:K.a.eventName,children:[this.state.event.name,Object(f.jsx)("div",{style:{position:"absolute",fontFamily:"monospace",right:"2%",top:"0",fontSize:"30px"},children:this.state.endTime&&Object(f.jsx)(G.a,{date:parseInt(this.state.endTime)})})]}):Object(f.jsx)("div",{children:"no event"}),Object(f.jsxs)("div",{className:K.a.container,children:[Object(f.jsx)("div",{className:K.a.allQuestions,children:t}),Object(f.jsxs)("div",{className:K.a.currentQuestion,children:[this.state.question,Object(f.jsx)("button",{className:"btn btn-info "+K.a.btn,style:{width:"100%"},onClick:function(){return e.setState({visible:!0})},children:"Final Submit"})]})]}),Object(f.jsx)(ee.a,{title:null,visible:this.state.visible,onOk:function(){e.setState({visible:!1}),e.onFinalSubmitHandler()},onCancel:function(){return e.setState({visible:!1})},children:Object(f.jsx)("p",{children:"Are You Sure Your Response Will be submitted!"})})]})}}]),n}(a.Component),ne=Object(c.b)((function(e){return{token:e.auth.token}}))(te),ae=n(3),se=n(143),re=n.n(se),ie=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={eventDetails:{name:"",description:"",endTime:"2022-02-03T10:30"},isSubmitted:!1,loading:!1},e.handle=function(t){var n=Object(ae.a)({},e.state.eventDetails);n[t.target.id]=t.target.value,e.setState({eventDetails:n})},e.submit=function(t){e.setState({loading:!0});t.preventDefault(),k.a.post("/eventService/addEvent",{eventDetails:[Object(ae.a)({},e.state.eventDetails)]},{headers:{authorization:"Bearer ".concat(e.props.token)}}).then((function(t){e.setState({loading:!1}),e.setState({isSubmitted:!e.state.isSubmitted})}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return this.state.loading?Object(f.jsx)(I,{}):Object(f.jsxs)("div",{className:re.a.login,children:[this.state.isSubmitted?Object(f.jsx)(j.a,{to:"events"}):null,Object(f.jsxs)("div",{className:re.a.form,children:[Object(f.jsx)("h2",{children:"Add Event"}),Object(f.jsx)("input",{type:"text",onChange:function(t){return e.handle(t)},id:"name",value:this.state.eventDetails.name,placeholder:"Event name",name:"hello"}),Object(f.jsx)("input",{type:"text",onChange:function(t){return e.handle(t)},id:"description",value:this.state.eventDetails.description,placeholder:"Description"}),Object(f.jsx)("input",{type:"datetime-local",onChange:function(t){return e.handle(t)},id:"endTime",value:this.state.eventDetails.endTime,placeholder:"End Time"}),Object(f.jsx)("input",{type:"submit",onClick:this.submit,className:re.a.submit,value:"Submit"})]})]})}}]),n}(s.a.Component),oe=Object(c.b)((function(e){return{token:e.auth.token}}))(ie),ce=n(2),le=n(144),ue=n.n(le),de="AUTH_START",he="AUTH_SUCCESS",je="AUTH_FAIL",pe="AUTH_LOGOUT",be=n(96),ve=n.n(be),me=(n(229),n(181)),Oe=Object(me.a)({forceRefresh:!0}),fe=function(e,t){return{type:he,idToken:e,userId:t}},ge=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),localStorage.removeItem("userResponses"),{type:pe}},xe=function(e){return console.log(e),function(t){setTimeout((function(){t(ge())}),1e3*e)}},Ae=function(e,t,n){var a=function(){var e=Object(_.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){k.a.get("/eventService/getEvents",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){var n=t.data.data,a={};n.map((function(e){var t=[];e.questions.map((function(e){var n={qid:e.qid,userAns:null};t.push(n)}));var n={eventName:e.name,eventCode:e.eventCode,currentQuestion:1,responses:t};a[e.eventCode]=n})),console.log(a),e(a)})).catch((function(e){n(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return function(s){s({type:de});var r={userDetails:{username:e,password:t,privileges:"user"}},i="/userService/login";n&&(i="/userService/sign-up"),k.a.post(i,r).then(function(){var e=Object(_.a)(L.a.mark((function e(t){var n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t.data.data.accessToken);case 2:n=e.sent,r=new Date((new Date).getTime()+1e3*t.data.data.expireIn),localStorage.setItem("token",t.data.data.accessToken),localStorage.setItem("expirationDate",r),localStorage.setItem("userId",JSON.stringify(t.data.data.userId)),localStorage.setItem("userResponses",JSON.stringify(n)),s(fe(t.data.data.accessToken,t.data.data.userId)),s(xe(t.data.data.expireIn)),$.b.success("Successfull logged in as ".concat(t.data.data.userId.name)),Oe.push("/events");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),$.b.error("username or email not found"),s(function(e){return{type:je,authData:e}}(e))}))}},Se=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Mail Address"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},isSignUp:!1,isAuthenticated:!1},e.inputChangedHandler=function(t,n){var a=Object(ae.a)(Object(ae.a)({},e.state.controls),{},Object(ce.a)({},n,Object(ae.a)(Object(ae.a)({},e.state.controls[n]),{},{value:t.target.value,valid:e.checkValidity(t.target.value,e.state.controls[n].validation),touched:!0})));e.setState(Object(ae.a)(Object(ae.a)({},e.state),{},{controls:a}))},e.signInUpHandler=function(t){t.preventDefault(),e.setState(Object(ae.a)(Object(ae.a)({},e.state),{},{isSignUp:!e.state.isSignUp}))},e.submitHandler=function(t){t.preventDefault(),e.props.onAuth(e.state.controls.email.value,e.state.controls.password.value,e.state.isSignUp),e.setState(Object(ae.a)(Object(ae.a)({},e.state),{},{isAuthenticated:!0}))},e}return Object(u.a)(n,[{key:"checkValidity",value:function(e,t){var n=!0;if(!t)return!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.controls)t.push({id:n,config:this.state.controls[n]});var a=t.map((function(t){return Object(f.jsx)("input",{value:t.config.value,placeholder:t.config.elementConfig.placeholder,autoComplete:"nill",type:t.config.elementConfig.type,onChange:function(n){return e.inputChangedHandler(n,t.id)}},t.id)})),s=this.state.isAuthenticated&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j.a,{to:"/events"}),console.log("hii this is treu")]});return Object(f.jsxs)("div",{className:ue.a.login,children:[s,Object(f.jsxs)("div",{className:ue.a.form,children:[Object(f.jsx)("h2",{children:"Welcome"}),a,Object(f.jsx)("input",{type:"submit",onClick:this.submitHandler,className:ue.a.submit,value:this.state.isSignUp?"Sign Up":"Sign In"})]})]})}}]),n}(a.Component),ye=Object(c.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{onAuth:function(t,n,a){return e(Ae(t,n,a))}}}))(Se),ke=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return Object(f.jsx)(j.a,{to:"/"})}}]),n}(a.Component),Ce=Object(c.b)(null,(function(e){return{onLogout:function(){return e(ge())}}}))(ke),Ne=(n(230),n(90)),Ie=n(317),Ee=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).animation=function(){var e=Y()("#navbarSupportedContent").find(".active"),t=e.innerHeight(),n=e.innerWidth(),a=e.position(),s=e.position();Y()(".hori-selector").css({top:a.top+"px",left:s.left+"px",height:t+"px",width:n+"px"}),Y()("#navbarSupportedContent").on("click","li",(function(e){Y()("#navbarSupportedContent ul li").removeClass("active"),Y()(this).addClass("active");var t=Y()(this).innerHeight(),n=Y()(this).innerWidth(),a=Y()(this).position(),s=Y()(this).position();Y()(".hori-selector").css({top:a.top+"px",left:s.left+"px",height:t+"px",width:n+"px"})}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){Y()(".navbar-toggler").click((function(){Y()(".navbar-collapse").slideToggle(300)}))}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("userId")),t=this.props.isAuthenticated?Object(f.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(o.c,{className:"nav-link",id:"home",to:"/events",exact:!0,children:[Object(f.jsx)("i",{class:"fa fa-home"}),"Home"]})}),e&&"admin~"===e.privileges&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(o.c,{className:"nav-link",id:"add",to:"/addEvent",exact:!0,children:[Object(f.jsx)("i",{class:"fa fa-calendar"}),"Add Event"]})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(o.c,{className:"nav-link",id:"response",to:"/responses",exact:!0,children:[Object(f.jsx)("i",{className:"fa fa-reply-all"}),"Responses"]})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(o.c,{className:"nav-link",id:"request",to:"/requests",exact:!0,children:[Object(f.jsx)("i",{class:"fa fa-users"}),"Requests"]})})]}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(o.c,{className:"nav-link",id:"result",to:"/results",exact:!0,children:[Object(f.jsx)("i",{class:"fa fa-trophy"}),"Results"]})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(o.c,{className:"nav-link",id:"login",to:"/logout",exact:!0,children:[Object(f.jsx)("i",{className:"fa fa-sign-out"}),"Logout"]})}),Object(f.jsx)("li",{style:{display:"flex",alignItems:"center"},children:Object(f.jsx)(Ne.a,{placement:"left",title:e.name,children:Object(f.jsxs)(Ie.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf",cursor:"pointer"},children:[" ",e.name[0]]})})})]}):Object(f.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(o.c,{className:"nav-link",id:"home",to:"/events",exact:!0,children:[Object(f.jsx)("i",{class:"fa fa-home"}),"Home"]})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(o.c,{className:"nav-link",id:"login",to:"/authentication",exact:!0,children:[Object(f.jsx)("i",{className:"fa fa-sign-in"}),"Login"]})})]});return Object(f.jsxs)("nav",{className:"navbar navbar-expand-custom navbar-mainbg",children:[Object(f.jsx)(o.c,{className:"navbar-brand navbar-logo logo",id:"logo",to:"/events",exact:!0,children:"Techmarathon"}),Object(f.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(f.jsx)("i",{className:"fa fa-bars text-white"})}),Object(f.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:t})]})}}]),n}(a.Component),we=Object(c.b)((function(e){return{isAuthenticated:null!==e.auth.token}}))(Ee),_e=n(101),Re=n(320),Le=n(313),ze=_e.a.Option,Te=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={events:[],responses:[],loading:!0,currentEventResponse:[]},e.config={headers:{Authorization:"Bearer ".concat(e.props.token)}},e.addToFinals=function(){var t=Object(_.a)(L.a.mark((function t(n,a){var s;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s={id:a,finals:n},k.a.put("/quizService/updateResponse",s,e.config).then((function(){$.b.success("Response Updated")}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.onEventChangeHandler=function(t){console.log(t);var n=ve()(t),a=e.state.responses.filter((function(e){return e.eventCode===n}));e.setState({currentEventResponse:a})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;k.a.get("/eventService/getEvents",{headers:{Authorization:"Bearer ".concat(this.props.token)}}).then((function(t){var n=t.data.data;console.log(n),e.setState({events:n})})),k.a.get("/quizService/getResponses",this.config).then((function(t){var n=t.data.data;console.log(n),n.sort((function(e,t){return e.score<t.score?1:-1})),e.setState({responses:n,loading:!1,currentEventResponse:n})}))}},{key:"render",value:function(){var e,t=this,n=[{title:"Name",dataIndex:"user",key:"user",render:function(e,t){return t.user.name}},{title:"Course",dataIndex:"user",key:"user",render:function(e,t){return t.user.course}},{title:"Phone",dataIndex:"user",key:"user",render:function(e,t){return t.user.phone}},{title:"Email",dataIndex:"user",key:"user",render:function(e,t){return t.user.username}},{title:"College",dataIndex:"user",key:"user",render:function(e,t){return t.user.college}},{title:"Event",dataIndex:"eventCode",key:"eventCode"},{title:"Score",dataIndex:"score",key:"score"},{title:"Finals",dataIndex:"finals",key:"finals",render:function(e,n){return Object(f.jsx)(Re.a,{defaultChecked:n.finals,onChange:function(e){return t.addToFinals(e,n._id)}})}}];e=this.state.events.map((function(e){return Object(f.jsx)(ze,{value:e.name,children:e.name})}));this.state.currentEventResponse.map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:e.user.username}),Object(f.jsx)("p",{children:e.email}),Object(f.jsx)("p",{children:e.college}),Object(f.jsx)("p",{children:e.score}),Object(f.jsx)("input",{type:"checkbox",id:e.user._id,name:"final",value:"Bike"}),Object(f.jsx)("label",{for:"vehicle1",children:"Finals"}),Object(f.jsx)("hr",{})]})}));return this.state.loading?Object(f.jsx)(I,{}):Object(f.jsxs)("div",{children:[Object(f.jsxs)(_e.a,{placeholder:"Select a Event",style:{width:"200px",margin:"2% auto 2% 5%"},onChange:function(e){return t.onEventChangeHandler(e)},name:"events",children:[Object(f.jsx)(ze,{value:"Select Event",children:"Select Event"}),e]}),Object(f.jsx)(Le.a,{columns:n,dataSource:this.state.currentEventResponse,pagination:!1})]})}}]),n}(s.a.Component),Be=Object(c.b)((function(e){return{token:e.auth.token}}))(Te),De=_e.a.Option,He=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={events:[],responses:[],loading:!0,currentEventResponse:[]},e.config={headers:{Authorization:"Bearer ".concat(e.props.token)}},e.addToFinals=function(){var t=Object(_.a)(L.a.mark((function t(n,a){var s;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s={id:a,finals:n},k.a.put("/quizService/updateResponse",s,e.config).then((function(){$.b.success("Response Updated")}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.onEventChangeHandler=function(t){console.log(t);var n=ve()(t),a=e.state.responses.filter((function(e){return e.eventCode===n}));e.setState({currentEventResponse:a})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;k.a.get("/eventService/getEvents",{headers:{Authorization:"Bearer ".concat(this.props.token)}}).then((function(t){var n=t.data.data;e.setState({events:n})})),k.a.get("/quizService/getRequests",this.config).then((function(t){var n=t.data.data;console.log(n),e.setState({responses:n,loading:!1,currentEventResponse:n})}))}},{key:"render",value:function(){var e,t=this;e=this.state.events.map((function(e){return Object(f.jsx)(De,{value:e.name,children:e.name})}));this.state.currentEventResponse.map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:e.user.username}),Object(f.jsx)("p",{children:e.email}),Object(f.jsx)("p",{children:e.college}),Object(f.jsx)("p",{children:e.score}),Object(f.jsx)("input",{type:"checkbox",id:e.user._id,name:"final",value:"Bike"}),Object(f.jsx)("label",{for:"vehicle1",children:"Finals"}),Object(f.jsx)("hr",{})]})}));return this.state.loading?Object(f.jsx)(I,{}):Object(f.jsxs)("div",{children:[Object(f.jsxs)(_e.a,{placeholder:"Select a Event",style:{width:"200px",margin:"2% auto 2% 5%"},onChange:function(e){return t.onEventChangeHandler(e)},name:"events",children:[Object(f.jsx)(De,{value:"Select Event",children:"Select Event"}),e]}),Object(f.jsx)(Le.a,{columns:[{title:"Name",dataIndex:"user",key:"user",render:function(e,t){return t.user.name}},{title:"Course",dataIndex:"user",key:"user",render:function(e,t){return t.user.course}},{title:"Phone",dataIndex:"user",key:"user",render:function(e,t){return t.user.phone}},{title:"Email",dataIndex:"user",key:"user",render:function(e,t){return t.user.username}},{title:"College",dataIndex:"user",key:"user",render:function(e,t){return t.user.college}},{title:"Event",dataIndex:"eventCode",key:"eventCode"}],dataSource:this.state.currentEventResponse,pagination:!1})]})}}]),n}(s.a.Component),qe=Object(c.b)((function(e){return{token:e.auth.token}}))(He),Ue=n(316),Qe=n(318),Pe="data:image/png;base64,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",Ve="data:image/png;base64,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",Me="data:image/png;base64,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",Fe=Ue.a.Panel,Je=localStorage.getItem("token"),We=function(){Object(a.useEffect)((function(){u()}),[]);var e=Object(a.useState)(!0),t=Object(O.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(),i=Object(O.a)(r,2),o=i[0],c=i[1],l={headers:{Authorization:"Bearer ".concat(Je)}},u=function(){var e=Object(_.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.a.get("/quizService/getWinners",l).then((function(e){var t=e.data.data;s(!1),c(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(n)return Object(f.jsx)(I,{});var d=null;return o&&(console.log(o),d=o.map((function(e){if(e.length){var t=-1;return Object(f.jsx)(Fe,{header:e[0].eventCode,children:e.map((function(e){return t++,Object(f.jsxs)(Qe.b.Item,{children:[0===t&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("img",{alt:"",style:{marginRight:"7px"},src:Pe})}),1===t&&Object(f.jsx)("img",{alt:"",style:{width:"37px",position:"relative",right:"3px"},src:Ve}),2===t&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("img",{style:{width:"37px",position:"relative",right:"3px"},alt:"",src:Me})})," ",e.user.name," - ",e.user.college]})}))})}return null}))),Object(f.jsx)(f.Fragment,{children:o&&Object(f.jsx)(Ue.a,{children:d})})},Xe=(n(152),n(189)),Ke=n(319),Ze=n(314),Ye=(n(303),function(){var e=JSON.parse(localStorage.getItem("userId"))._id,t=Object(a.useState)(!0),n=Object(O.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(),o=Object(O.a)(i,2),c=o[0],l=o[1],u=Object(a.useState)([]),d=Object(O.a)(u,2),h=d[0],j=d[1],p=Object(a.useState)(""),b=Object(O.a)(p,2),v=b[0],m=b[1],g=Object(a.useState)(!1),x=Object(O.a)(g,2),A=x[0],S=x[1];Object(a.useEffect)((function(){C(),y()}),[]);var y=function(){try{k.a.get("/bamboozled/getLeaderboard",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var t=e.data.data;j(t)}))}catch(e){$.b.error("cannot get leaderboard")}},C=function(){try{k.a.get("/bamboozled/getQuestion/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var t=e.data.data;l(t),r(!1)}))}catch(t){console.log("unable to get leaderboard")}},N=function(){var t={userId:e,answer:v};k.a.post("/bamboozled/checkAnswer/",t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var t;e.data.data.isCorrect?function(e){Xe.a.success({message:"Success",description:"Well done! Next image is unlocked",placement:e})}("bottomRight"):(t="bottomRight",Xe.a.warning({message:"Incorrect",description:"Sorry Not this! Try again",placement:t})),C(),m("")}))};return Object(f.jsx)(f.Fragment,{children:s?Object(f.jsx)(I,{}):Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"center",position:"relative"},children:[Object(f.jsxs)("div",{style:{display:"flex",flexFlow:"column wrap",alignItems:"center"},children:[Object(f.jsx)("i",{children:Object(f.jsx)("h1",{className:"title",children:"Bamboozled"})}),Object(f.jsx)("div",{children:Object(f.jsx)("img",{style:{width:"100%",maxWidth:"600px",height:"auto",margin:"0% auto 2% auto",borderRadius:"2%",boxShadow:"0 5px 5px #1f5962"},alt:"",src:c.image})}),Object(f.jsx)("input",{className:"answer",value:v,placeholder:"Enter Answer",onChange:function(e){return m(e.target.value)}}),c.hints.map((function(e){return Object(f.jsx)("p",{className:"hint",children:e})})),Object(f.jsx)("button",{className:"checkButton",style:{width:"100%",marginTop:"2%"},onClick:function(){return N()},children:" Check Answer"})]}),Object(f.jsx)("button",{className:"leaderboard",onClick:function(){y(),S(!0)},children:"Leaderboard"}),Object(f.jsx)(Ke.a,{title:"Leaderboard",placement:"left",onClose:function(){return S(!1)},visible:A,children:h.map((function(e,t){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(Qe.b.Item,{children:[0===t&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("img",{alt:"",style:{marginRight:"7px"},src:Pe})}),1===t&&Object(f.jsx)("img",{alt:"",style:{width:"37px",position:"relative",right:"3px"},src:Ve}),2===t&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("img",{style:{width:"37px",position:"relative",right:"3px"},alt:"",src:Me})}),e.user.name,Object(f.jsx)(Ze.a,{style:{width:"87%"},strokeColor:{"0%":"#108ee9","100%":"#87d068"},percent:100*e.totalPoints/2500,showInfo:!1}),Object(f.jsx)("p",{style:{display:"inline",marginLeft:"3%"},children:e.totalPoints})]})})}))})]})})}),Ge=(n(304),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{path:"/events",exact:!0,component:w}),Object(f.jsx)(j.b,{path:"/authentication",component:ye}),Object(f.jsx)(j.b,{path:"/",exact:!0,component:w})]});if(this.props.isAuthenticated){var t=JSON.parse(localStorage.getItem("userId")).privileges;"user"===t?e=Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{path:"/events",exact:!0,component:w}),Object(f.jsx)(j.b,{path:"/event/:id",component:q}),Object(f.jsx)(j.b,{path:"/eventExam/:id",component:ne}),Object(f.jsx)(j.b,{path:"/logout",component:Ce}),Object(f.jsx)(j.b,{path:"/results",component:We}),Object(f.jsx)(j.b,{path:"/bamboozled",component:Ye}),Object(f.jsx)(j.b,{path:"/",exact:!0,component:w})]}):"admin~"===t&&(e=Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{path:"/events",exact:!0,component:w}),Object(f.jsx)(j.b,{path:"/event/:id",component:q}),Object(f.jsx)(j.b,{path:"/eventExam/:id",component:ne}),Object(f.jsx)(j.b,{path:"/addEvent",component:oe}),Object(f.jsx)(j.b,{path:"/logout",component:Ce}),Object(f.jsx)(j.b,{path:"/responses",component:Be}),Object(f.jsx)(j.b,{path:"/requests",component:qe}),Object(f.jsx)(j.b,{path:"/results",component:We}),Object(f.jsx)(j.b,{path:"/bamboozled",component:Ye}),Object(f.jsx)(j.b,{path:"/",exact:!0,component:w})]}))}return Object(f.jsxs)("div",{children:[Object(f.jsx)(we,{}),e,Object(f.jsx)("div",{className:"footer",children:"Made By Mohd Ashif"})]})}}]),n}(a.Component)),$e=Object(c.b)((function(e){return{isAuthenticated:null!==e.auth.token}}))(Ge),et=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignIn()}},{key:"render",value:function(){return Object(f.jsx)(o.a,{children:Object(f.jsx)($e,{})})}}]),n}(a.Component),tt=Object(j.g)(Object(c.b)(null,(function(e){return{onTryAutoSignIn:function(){return e((function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userId");if(t){console.log("token valid");var a=new Date(localStorage.getItem("expirationDate"));console.log(a.getTime(),(new Date).getTime()),a.getTime()>(new Date).getTime()?(console.log("token still valid"),e(fe(t,n)),console.log("---------------------"+(a.getTime()-(new Date).getTime())/1e3),e(xe((a.getTime()-(new Date).getTime())/1e3))):(console.log("not vailid time over"),e(ge()))}else console.log("token not valid"),e(ge())}))}}}))(et)),nt=n(104),at=function(e,t){return Object(ae.a)(Object(ae.a)({},e),t)},st={token:null,userId:null,error:null,loading:!1},rt=function(e,t){return at(e,{error:null,loading:!0})},it=function(e,t){return at(e,{token:t.idToken,userId:t.userId,error:null,loading:!1})},ot=function(e,t){return at(e,{error:t.error,loading:!1})},ct=function(e,t){return at(e,{token:null,userId:null})},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return rt(e);case he:return it(e,t);case je:return ot(e,t);case pe:return ct(e);default:return e}},ut=(n(92),n(307),n(308),n(309),n(183)),dt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||nt.c,ht=Object(nt.b)({auth:lt});console.log("production","node env"),k.a.defaults.baseURL="https://techmarathon2022.azurewebsites.net/v1/",console.log("http://localhost:8000/v1/","https://techmarathon2022.azurewebsites.net/v1/",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL:"http://localhost:8000/v1/",REACT_APP_CLOUD_SERVER:"https://techmarathon2022.azurewebsites.net/v1/"}));var jt=Object(nt.d)(ht,dt(Object(nt.a)(ut.a))),pt=Object(f.jsx)(c.a,{store:jt,children:Object(f.jsx)(o.a,{children:Object(f.jsx)(tt,{})})});i.a.render(pt,document.getElementById("root"))},65:function(e,t,n){e.exports={EventDetails:"EventDetails_EventDetails__WWJIz",s1:"EventDetails_s1__yLAr4",s2:"EventDetails_s2__NlJ_V",card:"EventDetails_card__3Llo1",thumbnail:"EventDetails_thumbnail__IvO21",left:"EventDetails_left__CGsbm",right:"EventDetails_right__2hiz9",author:"EventDetails_author__1tTae",separator:"EventDetails_separator__uGcGo",fab:"EventDetails_fab__3PhW7"}},77:function(e,t,n){e.exports={event:"Event_event__1UQ3l",container:"Event_container__2CXQS",card:"Event_card__Jlwf0",right:"Event_right__iEKJ4",pic:"Event_pic__1ZjoY",social:"Event_social__5uzzQ",card2:"Event_card2__1R6qa"}},79:function(e,t,n){e.exports={btn:"EventExam_btn__24M_1",questionBox:"EventExam_questionBox__1nBAg",myModal:"EventExam_myModal__2MN4A",container:"EventExam_container__3oE8J",allQuestions:"EventExam_allQuestions__3HSgQ",currentQuestion:"EventExam_currentQuestion__2Cz_n",eventName:"EventExam_eventName__143Ye"}},93:function(e,t,n){e.exports={container:"Loader_container__17eIP",body:"Loader_body__2k-Vh",speeder:"Loader_speeder__sLc9M",base:"Loader_base__NTjNP",face:"Loader_face__r0IOs",fazer1:"Loader_fazer1__1UU7M",fazer2:"Loader_fazer2__2L4bv",fazer3:"Loader_fazer3__2CZ7k",fazer4:"Loader_fazer4__1qBhH",longfazers:"Loader_longfazers__2j_JD",lf:"Loader_lf__1P7I9",lf2:"Loader_lf2__3gBK6",lf3:"Loader_lf3__RWyDL",lf4:"Loader_lf4__29wbq"}}},[[310,1,2]]]);
//# sourceMappingURL=main.df21b73b.chunk.js.map